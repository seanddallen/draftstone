<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ INSTRUCTIONS MODAL ~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="modal fade" id="instructionsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Draftstone Instructions</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3>1. General</h3>
        <p class="ml-20"><b>1.1</b> What is Draftstone</p>
        <p class="ml-40"><b>1.1.1</b> Draftstone is an online application for drafting custom Hearthstone decks to play against friends </p>
        <p class="ml-40"><b>1.1.2</b> Draftstone offers several features that were never possible in Hearthstone until now. Primarily the ability to create drafts with highly customizable settings/filters and then the ability to export those drafts directly to Heartstone and play against a friend. </p>


        <p class="ml-20"><b>1.2</b> Draftstone is in Beta</p>
        <p class="ml-40"><b>1.2.1</b> The best way for Draftstone to improve is for you to let us know how it can. Please email us with any comments, suggestions, and especially to report any bugs. Email: draftstonebeta@gmail.com</p>
        <p class="ml-40"><b>1.2.2</b> We are committed to listening to our users to improve Draftstone. However, we are only a two man team so we ask that you be patient as we make updates/improvements. </p>

        <p class="ml-20"><b>1.3</b> Support Draftstone</p>
        <p class="ml-40"><b>1.3.1</b> The best way to support draftstone is to share the word. If you enjoy using this application please share it on social media with your friends! </p>

        <h3>2. Account</h3>
        <p class="ml-20"><b>2.1</b> User Account</p>
        <p class="ml-40"><b>2.1.1</b> Create an account to access specific features of Draftstone. These include creating/saving your own custom games modes, publishing your game modes to the community, voting for community game modes, and saving favorite game modes published by the community. Therefore, having an account allows you to 1) participate in the Draftstone community and 2) save time by having easy access to all your favorite draft modes.</p>
        <p class="ml-40"><b>2.1.2</b> Without an account you are still able to setup (customize), select (draft), and send (export) your draft. </p>
        <p class="ml-40"><b>2.1.3</b> All that is required to create an account is a username, email, and password.</p>
        <p class="ml-40"><b>2.1.4</b> The Account Page is access by clicking the icon in the upper-right corner once logged in. This is where your password and collections can be managed.</p>

        <p class="ml-20"><b>2.2</b> Manage/Import Collections</p>
        <p class="ml-40"><b>2.2.1</b> This feature is access in the user account page. This features allows for importing your Heartstone collection so that your drafts only offer you cards in your collection. You can also import friends' collections in case you both want to draft from the same card pool and then use the "share deck" feature in Heartstone to both play from the same collection.</p>
        <p class="ml-40"><b>2.2.1</b> The default collection is the "Master Collection" which includes all cards in the game.</p>
        <p class="ml-40"><b>2.2.3</b> To import a collection you will need to first create a "collection string". To do this you will need to follow these steps: 1) go to http://freezard.github.io/hs-collection-tracker/ to manually select all the cards in your collection (this will take ~1-1.5 hours); details about this process can be found in the next section 2) after you have selected your collection from their site, click  "Options" and then "Export to File" 3) once this file is downloaded make sure you SAVE this file somewhere on your computer for later use when updating your collection 4) open the file and then copy the contents (this is your "collection string") and head back to your Draftstone account page 5) click "Import New" 6) Give your collection a name that will help you remember it 7) copy/paste the "collection string" into the second input and click "Submit". Now you will see that collection on your account page. </p>
        <p class="ml-40"><b>2.2.4</b> In order to manually select your entire collection it will be more efficient if you follow these tips. Open both the http://freezard.github.io/hs-collection-tracker/ (hereafter "HCT") page and your Hearthstone collection at the same time. In the HCT, at the top click on "normal", then in the small row above the cards click on "all" (not standard). If you hover over the blue line above the card columns you can select all cards in that column. This is reccommended if you have the majority of cards in that column as it will then be easier to remove the ones you don't have. Each column and their color corresponds to the card rarities. The left column is all free/basic cards and thus everyone should "select all" for this category. The next columns are common, rare, epic, and legendary. Left click on any card to indicate you have one copy and left click twice to indicate you have two copies. Right click to deselect one or more copies. The most efficient strategy is to follow these steps: 1) go into your Hearthstone collection and click on "All Cards" in the bottom-left 2) then click on "0" 3) in the HCT, all of the columns are organized from lowest cost (top) to highest cost (bottom), so compare and select all your zero cost cards (common-legendary) 4) repeat steps 2-3 by clicking on each mana cost and selecting each of your cards until you are complete. </p>
        <p class="ml-40"><b>2.2.5</b> Unfortunately, this is the best option for collection import we have at the time being. We are looking into a better solution. The good news is this is something you only need to do once and then to update once you get more cards is much easier. </p>
        <p class="ml-40"><b>2.2.6</b> Any draft you complete will use your currently selected collection. To set your selected collection to either the master collection or any imported collection simply click the "Set Selected Collection" dropdown and select a collection. </p>
        <p class="ml-40"><b>2.2.7</b> To update a collection, click the "Update" button next to the specific collection, then import the updated "collection string". To update your "collection string" to match your current collection, simply go to the HCT and then there will be two options: 1) if your selected cards have been saved then simply select the new cards in your collection, click "Options" and "Export to File", then copy/paste the "collection string" into the input field and click "Submit", or 2) if your selected cards have not been saved, click "Options" and "Import from File", then import the original file you saved from this site and follow the steps in option 1) </p>
        <p class="ml-40"><b>2.2.8</b> To delete a collection, click the "Delete" button next to the specific collection. Make sure you want to do this because it cannot be reversed; you would have to import the collection again by pasting the "collection string" </p>

        <p class="ml-20"><b>2.3</b> Forgot Password?</p>
        <p class="ml-40"><b>2.3.1</b> If you forget your password, follow these steps: 1) click log in button 2) click "forgot your password?" link 3) type in valid account email and click "Send Temporary Password" 4) go to your email and you will receive a 6 digit number as a new temporary password 5) go back to log in and log in with new temporary password 6) IMMEDIATELY go to your account page and update your password by putting in the 6 digit number as your current password and then entering and confirming your new password.</p>


        <h3>3. Setup Draft</h3>
        <p class="ml-20"><b>1.1</b> Relative vs. Absolute</p>
        <p class="ml-40"><b>1.1.1</b> Draftstone is an online application for drafting custom Hearthstone decks to play against friends </p>

        <h3>4. Select Draft</h3>
        <p class="ml-20"><b>1.1</b> What is Draftstone</p>
        <p class="ml-40"><b>1.1.1</b> Draftstone is an online application for drafting custom Hearthstone decks to play against friends </p>

        <h3>5. Send Draft</h3>
        <p class="ml-20"><b>1.1</b> What is Draftstone</p>
        <p class="ml-40"><b>1.1.1</b> Draftstone is an online application for drafting custom Hearthstone decks to play against friends </p>

        <h3>6. Games Modes</h3>
        <p class="ml-20"><b>1.1</b> What is Draftstone</p>
        <p class="ml-40"><b>1.1.1</b> Draftstone is an online application for drafting custom Hearthstone decks to play against friends </p>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary modal-btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ LOGIN MODAL ~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="modal <%= (messages.loginErrors.length || messages.registerErrors.length) ? "show" : "fade" %>" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Login / Register</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="document.getElementById('loginModal').classList.remove('show');">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="flex" style="display:flex; flex-direction: column; justify-content:center; max-width: 50%; margin:0px auto;">
          <h2 style="display:flex; flex-direction: column; justify-content:center; max-width: 30%;">Login</h2>
          <form action="/login" method="post">
            <div class="form-group">
              <input type="email" name="email" class="form-control" placeholder="Email" style="margin-top:20px;" required>
              <input type="password" name="password" class="form-control" placeholder="Password" style="margin-top:10px;" required>
              <button type="submit" class="btn btn-primary login-btn" style="display:flex; flex-direction: column; justify-content:center; max-width: 30%; margin:20px auto;">Login</button>
            </div>
          </form>
          <a style="text-align:center; cursor:pointer;" onclick="window.location.href='/forgotpassword'">forgot your password?</a>
          <% for (const err of messages.loginErrors) { %>
            <p class="warning"><%= err %></p>
          <% } %>
        </div>

        <div class="flex" style="display:flex; flex-direction: column; justify-content:center; max-width: 50%; margin:0px auto;">
          <h2 style="display:flex; flex-direction: column; justify-content:center; max-width: 30%;">Register</h2>
          <form id="register" action="/register" method="post">
            <div class="form-group">
              <input type="text" name="username" class="form-control" placeholder="User Name" style="margin-top:20px;" required>
              <input type="email" name="email" class="form-control" placeholder="Email" style="margin-top:10px;" required>
              <input id="register-password" type="password" name="password" class="form-control" placeholder="Password" style="margin-top:10px;" required>
              <input id="register-confirm" type="password" name= "confirm" class="form-control" placeholder="Confirm Password" style="margin-top:10px;" required>
              <button type="submit" class="btn btn-primary login-btn"  style="display:flex; flex-direction: column; justify-content:center; max-width: 30%; margin:20px auto;">Register</button>
            </div>
          </form>
          <p id="mismatch" class="warning hidden">Passwords do not match</p>
          <% for (const err of messages.registerErrors) { %>
            <p class="warning"><%= err %></p>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ SAVE DRAFT MODAL ~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="modal fade" id="draftModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Save / Publish</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="flex" style="display:flex; flex-direction: column; justify-content:center; max-width: 50%; margin:0px auto;">
          <h3 style="display:flex; flex-direction: column; justify-content:center; max-width: 100%;">Save to Account</h3>

            <div>
                <input id="mode-name-input" type="text" name="user" class="form-control" placeholder="Creative Game Mode Name" style="margin-top:20px;">
                <p id="require-text" style="color: red"></p>
                <button id="save-mode-btn" class="btn btn-primary login-btn" style="display:flex; flex-direction: column; justify-content:center; margin:20px auto;">Save</button>
                <button id="save-publish-btn" class="btn btn-primary login-btn" style="display:flex; flex-direction: column; justify-content:center; margin:20px auto;">Save & Publish</button>
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary modal-btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~ IMPORT COLLECTION MODAL ~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="modal fade" id="importModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Import Collection</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="flex" style="display:flex; flex-direction: column; justify-content:center; max-width: 50%; margin:0px auto;">
          <h5 class="text-center" style="display:flex; flex-direction: column;">See Instructions for Import Details</h5>

          <form method="post" action="/user/collections/import/">
            <input type="text" name="name" class="form-control" placeholder="Collection Name" style="margin-top:20px;">
            <p style="color: red"></p>
            <input type="text" name="collection" class="form-control" placeholder="Paste Collection Here" style="margin-top:20px;">
            <button class="btn btn-primary login-btn" style="display:flex; flex-direction: column; justify-content:center; margin:20px auto;">Submit</button>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary modal-btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
